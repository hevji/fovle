-- Load Rayfield UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Create the main window
local Window = Rayfield:CreateWindow({
    Name = "Zee Hood Script",
    LoadingTitle = "Loading...",
    LoadingSubtitle = "by Hevji",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil, -- Create a custom folder for your config if needed
        FileName = "zhs"
    },
    KeySystem = true, -- Set to false if you don't want a key system
    KeySettings = {
        Title = "Zee Hood Script",
        Subtitle = "Key System",
        Note = "Join the Discord for a key!",
        FileName = "Key",
        SaveKey = true,
        GrabKeyFromSite = false, -- Set to true if you want to grab the key from a website
        Key = "zhsontop" -- Replace with your actual key
    }
})

-- Create the ESP tab
local ESP = Window:CreateTab("ESP", 4483362972)
local ESPSection = ESP:CreateSection("ESP Settings")

local espEnabled = false
local espToggle = ESPSection:CreateToggle("Enable ESP", false, function(value)
    espEnabled = value
    if value then
        -- ESP logic here
        for _, player in ipairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                local box = Drawing.new("Square")
                box.Visible = true
                box.Color = Color3.new(1, 0, 0)
                box.Thickness = 2
                box.Filled = false
                box.Position = Vector2.new(player.Character.HumanoidRootPart.Position.X, player.Character.HumanoidRootPart.Position.Y)
                box.Size = Vector2.new(200, 200) -- Adjust size as needed
                box.ZIndex = 1

                local nameLabel = Drawing.new("Text")
                nameLabel.Visible = true
                nameLabel.Color = Color3.new(1, 1, 1)
                nameLabel.Size = 18
                nameLabel.Center = true
                nameLabel.Text = player.Name
                nameLabel.Position = Vector2.new(player.Character.HumanoidRootPart.Position.X, player.Character.HumanoidRootPart.Position.Y - 50)
                nameLabel.ZIndex = 2
            end
        end
    else
        -- Clear ESP drawings
        for _, drawing in ipairs(Drawing.GetAll()) do
            drawing:Remove()
        end
    end
end)

-- Create the Aimbot tab
local Aimbot = Window:CreateTab("Aimbot", 4483362972)
local AimbotSection = Aimbot:CreateSection("Aimbot Settings")

local aimlockEnabled = false
local aimlockToggle = AimbotSection:CreateToggle("Enable Aimbot", false, function(value)
    aimlockEnabled = value
end)

game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.UserInputType == Enum.UserInputType.MouseButton2 then
        if aimlockEnabled then
            local closestPlayer = nil
            local shortestDistance = math.huge
            for _, player in ipairs(game.Players:GetPlayers()) do
                if player ~= game.Players.LocalPlayer then
                    local vector, onScreen = workspace.CurrentCamera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
                    if onScreen then
                        local distance = (vector - Vector2.new(input.Position.X, input.Position.Y)).Magnitude
                        if distance < shortestDistance then
                            shortestDistance = distance
                            closestPlayer = player
                        end
                    end
                end
            end

            if closestPlayer then
                game.Players.LocalPlayer.Character.Humanoid:MoveTo(closestPlayer.Character.HumanoidRootPart.Position)
            end
        end
    end
end)

-- Create the Fly tab
local Fly = Window:CreateTab("Fly", 4483362972)
local FlySection = Fly:CreateSection("Fly Settings")

local flyEnabled = false
local flyToggle = FlySection:CreateToggle("Enable Fly", false, function(value)
    flyEnabled = value
    if value then
        local Player = game.Players.LocalPlayer
        local Mouse = Player:GetMouse()
        local UIS = game:GetService("UserInputService")
        local RunService = game:GetService("RunService")

        local function fly()
            local BodyVelocity = Instance.new("BodyVelocity")
            BodyVelocity.velocity = Vector3.new(0, 0, 0)
            BodyVelocity.maxForce = Vector3.new(4000, 4000, 4000)
            BodyVelocity.Parent = Player.Character.HumanoidRootPart

            local BodyGyro = Instance.new("BodyGyro")
            BodyGyro.maxTorque = Vector3.new(4000, 4000, 4000)
            BodyGyro.P = 9e4
            BodyGyro.Parent = Player.Character.HumanoidRootPart

            local bg = Instance.new("BodyGyro", Player.Character.HumanoidRootPart)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(4000, 4000, 4000)
            bg.cframe = Player.Character.HumanoidRootPart.CFrame

            local bv = Instance.new("BodyVelocity", Player.Character.HumanoidRootPart)
            bv.velocity = Vector3.new(0, 0, 0)
            bv.maxForce = Vector3.new(4000, 4000, 4000)

            local function update()
                bg.cframe = Player.Character.HumanoidRootPart.CFrame
                bv.velocity = (workspace.CurrentCamera.CoordinateFrame.lookVector * (Mouse.Hit.p - Player.Character.HumanoidRootPart.Position).Magnitude) + Vector3.new(0, 0.1, 0)
            end

            RunService.Stepped:Connect(update)
        end

        fly()
    else
        for _, v in ipairs(Player.Character.HumanoidRootPart:GetChildren()) do
            if v:IsA("BodyVelocity") or v:IsA("BodyGyro") then
                v:Destroy()
            end
        end
    end
end)

-- Create the Noclip tab
local Noclip = Window:CreateTab("Noclip", 4483362972)
local NoclipSection = Noclip:CreateSection("Noclip Settings")

local noclipEnabled = false
local noclipToggle = NoclipSection:CreateToggle("Enable Noclip", false, function(value)
    noclipEnabled = value
    if value then
        local Player = game.Players.LocalPlayer
        local Character = Player.Character or Player.CharacterAdded:Wait()
        local Humanoid = Character:WaitForChild("Humanoid")

        local function noclip()
            Humanoid.PlatformStand = true
            for _, part in ipairs(Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end

        noclip()
    else
        local Player = game.Players.LocalPlayer
        local Character = Player.Character or Player.CharacterAdded:Wait()
        local Humanoid = Character:WaitForChild("Humanoid")

        Humanoid.PlatformStand = false
        for _, part in ipairs(Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = true
            end
        end
    end
end)
